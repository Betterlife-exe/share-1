using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEngine.XR;
using UnityEngine.XR.Interaction.Toolkit;

public class SwordScript : MonoBehaviour
{

  public GameObject defaultSword;
  public GameObject largeShatterSword;
  public GameObject wand;
  public GameObject crossbow;



    void CheckButtons(InputDevice rightController, GameObject defaultSword, GameObject largeShatterSword, GameObject wand, GameObject crossbow){  //
      bool primaryButtonState;
      bool secondaryButtonState;

      if(rightController.TryGetFeatureValue(CommonUsages.primaryButton, out primaryButtonState) && primaryButtonState){
        if(rightController.TryGetFeatureValue(CommonUsages.secondaryButton, out secondaryButtonState) && secondaryButtonState){
          defaultSword.SetActive(false);
          largeShatterSword.SetActive(false);
          wand.SetActive(false);
          crossbow.SetActive(true);
        }
        else{
          defaultSword.SetActive(false);
          largeShatterSword.SetActive(false);
          wand.SetActive(true);
          crossbow.SetActive(false);
      }
    }
      else{
        if(rightController.TryGetFeatureValue(CommonUsages.secondaryButton, out secondaryButtonState) && secondaryButtonState){
          defaultSword.SetActive(false);
          largeShatterSword.SetActive(true);
          wand.SetActive(false);
          crossbow.SetActive(false);
        }
        else{
          defaultSword.SetActive(true);
          largeShatterSword.SetActive(false);
          wand.SetActive(false);
          crossbow.SetActive(false);
        }
      }

    }

    void OnEnable(){}

    void Start(){}

    void Update(){
      List<InputDevice> m_device = new List<InputDevice>();
     InputDevices.GetDevicesWithCharacteristics(InputDeviceCharacteristics.Right,m_device);
      CheckButtons(m_device[0], defaultSword, largeShatterSword, wand, crossbow);

    }

}
